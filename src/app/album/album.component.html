<ng-container *ngIf="album$ | async as album">
  <ion-grid class="ion-no-margin ion-no-padding scrollable-list">
    <ion-row
      class="ion-no-margin ion-justify-content-start"
      [style.background]="backgroundColor"
    >
      <ion-col class="ion-no-margin ion-padding" size="12">
        <ion-grid class="header">
          <ion-row
            class="ion-align-items-end ion-justify-content-start"
            style="flex-wrap: nowrap"
          >
            <ion-col size="auto"
              ><ion-img #image class="album-img" [src]="album.image"></ion-img>
            </ion-col>
            <ion-col size="auto" class="ion-padding">
              <ion-label>
                <span>{{ album.type }}</span>
                <h1 class="album-title">
                  {{ album.name }}
                </h1>
                <h3>
                  <b>{{ album.artists }}{{ " â€¢ " }}</b
                  >{{ album.info }}
                </h3>
              </ion-label>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-col>
    </ion-row>
    <ion-row
      class="actions ion-margin ion-justify-content-between ion-align-items-center"
    >
      <ion-col class="ion-padding" size="auto">
        <ion-grid>
          <ion-row class="ion-align-items-center">
            <ion-col size="auto">
              <ion-button
                shape="round"
                size="large"
                color="secondary"
                (click)="onPlayAlbum(album.id, album.image)"
              >
                <ion-icon slot="icon-only" name="play"></ion-icon>
              </ion-button>
            </ion-col>
            <ion-col size="auto">
              <ion-button shape="round" fill="clear" size="large">
                <ion-icon slot="icon-only" name="add-circle-outline"></ion-icon>
              </ion-button>
            </ion-col>
            <ion-col size="auto">
              <ion-button shape="round" fill="clear" size="large">
                <ion-icon
                  slot="icon-only"
                  name="ellipsis-horizontal"
                ></ion-icon>
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-col>
      <ion-col class="ion-padding" size="auto">
        <ion-button fill="clear" size="small">
          <span class="list-text"> Lista </span>
          <ion-icon slot="end" name="list-outline"></ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col class="">
        <ion-list>
          <div class="sticky-header">
            <ion-item-divider>
              <ion-list-header lines="full">
                <span class="number"> # </span>
                <ion-label class="track-info">
                  <h2>Titulo</h2>
                </ion-label>
                <ion-icon name="time-outline"></ion-icon>
              </ion-list-header>
            </ion-item-divider>
          </div>
          <ion-item
            button
            class="track-item"
            *ngFor="let track of album.tracks; let index = index"
          >
            <span
              class="avatar"
              (click)="playTrackInAlbum(album.id, album.image, index)"
            >
              <span class="number">
                {{ index + 1 }}
              </span>
              <ion-icon name="play" class="play-icon"></ion-icon>
            </span>
            <ion-label class="track-info">
              <h2>{{ track.name }}</h2>

              <p>
                <a
                  class="artist-link"
                  *ngFor="let artist of track.artists; let isLastArtist = last"
                  (click)="goToArtist(artist.id)"
                >
                  {{ artist.name + (isLastArtist ? "" : ", ") }}
                </a>
              </p>
            </ion-label>
            <ion-icon
              class="add-icon"
              name="add-circle-outline"
              slot="end"
            ></ion-icon>
            <ion-label slot="end">
              <p>{{ track.duration | date : "m:ss" }}</p>
            </ion-label>
            <ion-icon
              name="ellipsis-horizontal"
              slot="end"
              class="ellipsis-icon"
            ></ion-icon>
          </ion-item>
        </ion-list>
      </ion-col>
    </ion-row>
  </ion-grid>
</ng-container>
